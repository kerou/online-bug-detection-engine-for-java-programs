<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html><head><title>PMD - Rule Set: Basic JSP rules</title><style type="text/css" media="all">
          @import url("../style/maven-base.css");
          
          @import url("../style/maven-theme.css");</style><link rel="stylesheet" href="../style/print.css" type="text/css" media="print"></link><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"></meta><meta name="author" content="Tom Copeland"></meta><meta name="email" content="tom@infoether.com"></meta></head><body class="composite">
			<div id="bodyColumn"><div class="contentBox"><div class="section"><a name="Basic_JSP_rules"></a><h2>Basic JSP rules</h2>
				
	
	Rules concerning basic JSP guidelines.
	
	
	
	<div class="subsection"><a name="NoLongScripts"></a><h3>NoLongScripts</h3>
		<p>Since: PMD 3.6</p>
		<p> Scripts should be part of Tag Libraries, rather than part of JSP pages.
			</p>
		
		
		    
    			<p>This rule is defined by the following XPath expression:</p>
    			
    			
    <div class="source"><pre>
					 
// Element [ string:upper-case(@Name)="SCRIPT" and (@EndLine - @BeginLine &amp;gt; 10) ]
				
				</pre></div>
  
		    
		    
	    
	    
        
        
        <p>Example:</p>
            
    <div class="source"><pre>
                
			
&lt;HTML&gt;
&lt;BODY&gt;
&lt;!--Java Script--&gt;
&lt;SCRIPT language="JavaScript" type="text/javascript"&gt;
&lt;!--
function calcDays(){
  var date1 = document.getElementById('d1').lastChild.data;
  var date2 = document.getElementById('d2').lastChild.data;
  date1 = date1.split("-");
  date2 = date2.split("-");
  var sDate = new Date(date1[0]+"/"+date1[1]+"/"+date1[2]);
  var eDate = new Date(date2[0]+"/"+date2[1]+"/"+date2[2]);
  var daysApart = Math.abs(Math.round((sDate-eDate)/86400000));
  document.getElementById('diffDays').lastChild.data = daysApart;
}

onload=calcDays;
//--&gt;
&lt;/SCRIPT&gt;
&lt;/BODY&gt;
&lt;/HTML&gt;
			
		
            </pre></div>
  
        

        
        
            
        

	</div>

	
	
	
	<div class="subsection"><a name="NoScriptlets"></a><h3>NoScriptlets</h3>
		<p>Since: PMD 3.6</p>
		<p> Scriptlets should be factored into Tag Libraries or JSP declarations,
			rather than being part of JSP pages. </p>
		
		
		    
    			<p>This rule is defined by the following XPath expression:</p>
    			
    			
    <div class="source"><pre>
					
					//JspScriptlet
					|
					//Element[ string:upper-case(@Name)="JSP:SCRIPTLET" ]
					
				</pre></div>
  
		    
		    
	    
	    
        
        
        <p>Example:</p>
            
    <div class="source"><pre>
                
			 
&lt;HTML&gt;
&lt;HEAD&gt;
&lt;%
response.setHeader("Pragma", "No-cache");
%&gt;
&lt;/HEAD&gt;
	&lt;BODY&gt;
		&lt;jsp:scriptlet&gt;String title = "Hello world!";&lt;/jsp:scriptlet&gt;
	&lt;/BODY&gt;
&lt;/HTML&gt;
					 
		
            </pre></div>
  
        

        
        
            
        

	</div>

	
	
	
	<div class="subsection"><a name="NoInlineStyleInformation"></a><h3>NoInlineStyleInformation</h3>
		<p>Since: PMD 3.6</p>
		<p> Style information should be put in CSS files, not in JSPs.
			Therefore, don't use &lt;B&gt; or &lt;FONT&gt; tags, or attributes like "align='center'".  </p>
		
		
		    
		    
    		    
    		    
    		    

    		    <p>This rule is defined by the following Java class:
    		    <a href="../xref/net/sourceforge/pmd/jsp/rules/NoInlineStyleInformation.html">net.sourceforge.pmd.jsp.rules.NoInlineStyleInformation</a>
    		    </p>
		    
	    
	    
        
        
        <p>Example:</p>
            
    <div class="source"><pre>
                
			
&lt;html&gt;&lt;body&gt;&lt;p align='center'&gt;&lt;b&gt;text&lt;/b&gt;&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;
			
		
            </pre></div>
  
        

        
        
            
        

	</div>

	
	
	
	
	<div class="subsection"><a name="NoClassAttribute"></a><h3>NoClassAttribute</h3>
		<p>Since: PMD 3.6</p>
		<p>Do not use an attribute called 'class'. Use "styleclass" for CSS styles.
			</p>
		
		
		    
    			<p>This rule is defined by the following XPath expression:</p>
    			
    			
    <div class="source"><pre>
					 //Attribute[ string:upper-case(@Name)="CLASS" ]  
				</pre></div>
  
		    
		    
	    
	    
        
        
        <p>Example:</p>
            
    <div class="source"><pre>
                
			
&lt;HTML&gt; &lt;BODY&gt;
&lt;P class="MajorHeading"&gt;Some text&lt;/P&gt;
&lt;/BODY&gt; &lt;/HTML&gt;
			
		
            </pre></div>
  
        

        
        
            
        

	</div>

	
	
	
	<div class="subsection"><a name="NoJspForward"></a><h3>NoJspForward</h3>
		<p>Since: PMD 3.6</p>
		<p>Do not do a forward from within a JSP file.
			</p>
		
		
		    
    			<p>This rule is defined by the following XPath expression:</p>
    			
    			
    <div class="source"><pre>
					 //Element[ @Name="jsp:forward" ]  
				</pre></div>
  
		    
		    
	    
	    
        
        
        <p>Example:</p>
            
    <div class="source"><pre>
                
			
&lt;jsp:forward page='UnderConstruction.jsp'/&gt;
			
		
            </pre></div>
  
        

        
        
            
        

	</div>


	
	
	<div class="subsection"><a name="IframeMissingSrcAttribute"></a><h3>IframeMissingSrcAttribute</h3>
		<p>Since: PMD 3.6</p>
		<p>
		  IFrames which are missing a src element can cause security information popups 
		  in IE if you are accessing the page through SSL. See http://support.microsoft.com/default.aspx?scid=kb;EN-US;Q261188
			</p>
		
		
		    
    			<p>This rule is defined by the following XPath expression:</p>
    			
    			
    <div class="source"><pre>
					 
	//Element[string:upper-case(@Name)="IFRAME"][count(Attribute[string:upper-case(@Name)="SRC" ]) = 0]
					 
				</pre></div>
  
		    
		    
	    
	    
        
        
        <p>Example:</p>
            
    <div class="source"><pre>
                
			
&lt;HTML&gt;&lt;title&gt;bad example&gt;&lt;BODY&gt;
&lt;iframe&gt;&lt;/iframe&gt;
&lt;/BODY&gt; &lt;/HTML&gt;

&lt;HTML&gt;&lt;title&gt;good example&gt;&lt;BODY&gt;
&lt;iframe src="foo"&gt;&lt;/iframe&gt;
&lt;/BODY&gt; &lt;/HTML&gt;
			
		
            </pre></div>
  
        

        
        
            
        

	</div>


	
	
	<div class="subsection"><a name="NoHtmlComments"></a><h3>NoHtmlComments</h3>
		<p>Since: PMD 3.6</p>
		<p>
		  In a production system, HTML comments increase the payload between the application 
		  server to the client, and serve little other purpose. Consider switching to 
		  JSP comments.
			</p>
		
		
		    
    			<p>This rule is defined by the following XPath expression:</p>
    			
    			
    <div class="source"><pre>
					 
	//CommentTag
					 
				</pre></div>
  
		    
		    
	    
	    
        
        
        <p>Example:</p>
            
    <div class="source"><pre>
                
			
&lt;HTML&gt;&lt;title&gt;bad example&gt;&lt;BODY&gt;
&lt;!-- HTML comment --&gt;
&lt;/BODY&gt; &lt;/HTML&gt;

&lt;HTML&gt;&lt;title&gt;good example&gt;&lt;BODY&gt;
&lt;%-- JSP comment --%&gt;
&lt;/BODY&gt; &lt;/HTML&gt;
			
		
            </pre></div>
  
        

        
        
            
        

	</div>

	
	
	
	<div class="subsection"><a name="DuplicateJspImports"></a><h3>DuplicateJspImports</h3>
		<p>Since: PMD 3.7</p>
		<p>Avoid duplicate import statements inside JSP's.  </p>
		
		
		    
		    
    		    
    		    
    		    

    		    <p>This rule is defined by the following Java class:
    		    <a href="../xref/net/sourceforge/pmd/jsp/rules/DuplicateJspImports.html">net.sourceforge.pmd.jsp.rules.DuplicateJspImports</a>
    		    </p>
		    
	    
	    
        
        
        <p>Example:</p>
            
    <div class="source"><pre>
                
			 
&lt;%@ page import=\"com.foo.MyClass,com.foo.MyClass\"%&gt;&lt;html&gt;&lt;body&gt;&lt;b&gt;&lt;img src=\"&lt;%=Some.get()%&gt;/foo\"&gt;xx&lt;/img&gt;text&lt;/b&gt;&lt;/body&gt;&lt;/html&gt;
			 
		
            </pre></div>
  
        

        
        
            
        

	</div>

    
    
	
	<div class="subsection"><a name="JspEncoding"></a><h3>JspEncoding</h3>
		<p>Since: PMD </p>
		<p>
            
A missing 'meta' tag or page directive will trigger this rule, as well as a non-UTF-8 charset.
            
        </p>
		
		
		    
    			<p>This rule is defined by the following XPath expression:</p>
    			
    			
    <div class="source"><pre>
                    
//Content[
not(Element[@Name="meta"][
   Attribute[@Name="content"]/AttributeValue[contains(string:lower-case(@Image),"charset=utf-8")]
]) 
and 
    not(JspDirective[@Name='page']/JspDirectiveAttribute[@Name='contentType'][contains(string:lower-case(@Value),"charset=utf-8")])
]
                    
                </pre></div>
  
		    
		    
	    
	    
        
        
        <p>Example:</p>
            
    <div class="source"><pre>
                
            
                Most browsers should be able to interpret the following headers:
                
                &lt;%@ page contentType="text/html; charset=UTF-8" pageEncoding="UTF-8" %&gt;
                    
                &lt;meta http-equiv="Content-Type"  content="text/html; charset=UTF-8" /&gt;
            
        
            </pre></div>
  
        

        
        
            
        

	</div>



			</div></div></div><div class="clear"><hr></hr></div><div id="footer"><div class="xright">© 2002-2009, InfoEther</div><div class="clear"><hr></hr></div></div></body></html>